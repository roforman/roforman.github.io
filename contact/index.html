<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Contact | ROFORMAN</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="../assets/css/base.css">
  <link rel="stylesheet" href="../assets/css/pages.css">
</head>
<body>
  <app-layout>
    <main class="page-main">
      <section class="page-hero">
        <h1>Contact</h1>
        <p>Find quick answers to common questions below. If you need more help, use the contact information at the end of the page.</p>
      </section>

      <section class="page-card">
        <h2>FAQ</h2>
        <div class="faq-list">
          <details class="faq-item is-expanded" open>
            <summary>What does ROFORMAN provide?</summary>
            <div class="faq-answer">
              <div class="faq-answer__inner">
                <p>ROFORMAN develops robotics-related technologies and products for industrial and applied environments, including platform and integration support.</p>
              </div>
            </div>
          </details>

          <details class="faq-item">
            <summary>How can I request a product demo or partnership discussion?</summary>
            <div class="faq-answer">
              <div class="faq-answer__inner">
                <p>Please send a short overview of your company, use case, and timeline to our contact email. We will route your inquiry to the relevant team.</p>
              </div>
            </div>
          </details>

          <details class="faq-item">
            <summary>Do you support technical collaboration with universities or research labs?</summary>
            <div class="faq-answer">
              <div class="faq-answer__inner">
                <p>Yes. We are open to technical collaboration and joint research discussions depending on the project scope and alignment.</p>
              </div>
            </div>
          </details>

          <details class="faq-item">
            <summary>Where should I send technical support or integration questions?</summary>
            <div class="faq-answer">
              <div class="faq-answer__inner">
                <p>Include your product/model information, issue summary, and any logs or images available in your email so we can respond more efficiently.</p>
              </div>
            </div>
          </details>
        </div>
      </section>

      <section class="page-card page-card--contact">
        <h2>Contact Information</h2>
        <p>e-mail: info@roforman.com / ybbang@snu.ac.kr</p>
      </section>
    </main>
  </app-layout>

  <script src="../assets/js/components/app-router.js" defer></script>
  <script src="../assets/js/components/app-layout.js" defer></script>
  <script>
    document.addEventListener("DOMContentLoaded", () => {
      const faqList = document.querySelector(".faq-list");
      if (!faqList) return;

      faqList.classList.add("js-accordion");

      const items = Array.from(faqList.querySelectorAll(".faq-item"));

      items.forEach((item) => {
        const answer = item.querySelector(".faq-answer");
        if (!answer) return;

        if (item.open) {
          item.classList.add("is-expanded");
          answer.style.height = "auto";
        } else {
          item.classList.remove("is-expanded");
          answer.style.height = "0px";
        }
      });

      const animateOpen = (item) => {
        const answer = item.querySelector(".faq-answer");
        if (!answer || item.dataset.animating === "true") return;

        item.dataset.animating = "true";
        item.open = true;
        item.classList.add("is-expanded");

        answer.style.height = "0px";
        const endHeight = answer.scrollHeight;

        requestAnimationFrame(() => {
          answer.style.height = endHeight + "px";
        });

        const onEnd = (event) => {
          if (event.target !== answer || event.propertyName !== "height") return;
          answer.style.height = "auto";
          delete item.dataset.animating;
          answer.removeEventListener("transitionend", onEnd);
        };

        answer.addEventListener("transitionend", onEnd);
      };

      const animateClose = (item) => {
        const answer = item.querySelector(".faq-answer");
        if (!answer || item.dataset.animating === "true") return;

        item.dataset.animating = "true";
        const startHeight = answer.scrollHeight;
        answer.style.height = startHeight + "px";

        requestAnimationFrame(() => {
          item.classList.remove("is-expanded");
          answer.style.height = "0px";
        });

        const onEnd = (event) => {
          if (event.target !== answer || event.propertyName !== "height") return;
          item.open = false;
          delete item.dataset.animating;
          answer.removeEventListener("transitionend", onEnd);
        };

        answer.addEventListener("transitionend", onEnd);
      };

      faqList.addEventListener("click", (event) => {
        const summary = event.target.closest("summary");
        if (!summary) return;

        const item = summary.parentElement;
        if (!(item instanceof HTMLDetailsElement)) return;

        event.preventDefault();

        if (item.classList.contains("is-expanded")) {
          animateClose(item);
        } else {
          animateOpen(item);
        }
      });
    });
  </script>
</body>
</html>
